<!-- Admin user profile area -->
<div class="chat-user-sidebar cursor">
  <!-- <button class="btn close-icon p-0" (click)="toggleSidebar('chat-user-sidebar')">
    <i data-feather="x"></i>
  </button> -->
  <div
    _ngcontent-iax-c265=""
    class="toggle"
    (click)="toggleSidebar('chat-user-sidebar')"
  >
    <div class="icon-wrapper">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="feather feather-arrow-left"
      >
        <line x1="19" y1="12" x2="5" y2="12"></line>
        <polyline points="12 19 5 12 12 5"></polyline>
      </svg>
    </div>
  </div>
  <!-- <header class="chat-profile-header">
   
    
  </div> -->
  <div class="chats">
    <div class="top-member">
      <p>{{ "HEADER.USERS" | translate }}</p>
      <span>{{ allMembers?.length }} {{ "HEADER.MEMBER" | translate }}</span>
    </div>
    <div class="scrollMembers">
      <div class="chal-list d-flex" *ngFor="let members of allMembers">
        <div class="d-flex" >
          <div
            *ngIf="
              members.user.profile_image != null &&
                members.user.profile_image != '';
              else elseTemplate
            "
          >
            <span class="avatar">
              <img
                src="{{ members.user.profile_image | secure | async }}"
                height="42"
                width="42"
                alt=" image"  
              />
            </span>
          </div>

          <ng-template #elseTemplate>
            <span class="avatar">
              <img
                src="../../../../../../../assets//images/avatars/user-avatar-image.jpg"
                height="42"
                width="42"
                alt="image"
              />
            </span>
          </ng-template>
          <div class="name pl-1" style="align-self: center">
            <h4 class="mb-0">
              {{ members.user.first_name + ' ' + members.user.last_name}}
              <!-- {{ (members.user.first_name + ' ' + members.user.last_name).length >=100 ? members.user.first_name + '...' : members.user.first_name + ' ' + members.user.last_name}} -->
              <!-- {{fullname}} -->
            </h4>

            <!-- <div class="contact-icon">
            <img
              src="../../../../../../../assets/images/icons/grey.svg"
              class="pr-1"
            />
            <img
              src="../../../../../../../assets/images/icons/call.svg"
              class="pr-1"
            />
            <img
              src="../../../../../../../assets/images/icons/video-call.svg"
              class="pr-1"
            />
            <img src="../../../../../../../assets/images/icons/location.svg" />
          </div> -->
          </div>
        </div > 
        &nbsp;
        <div>
          <ul class="customs-icons">
            <li class="phone">
              <div class="icon-wrapper">
                <span  
                [style]="getConferenceStatus(selectedChat?.is_call_active)"
                >
                <!-- style="color : #28C76F" -->
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-phone"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
                  <!-- <i class="feather-16" size="14" data-feather="phone-call"> </i> -->
                </span>
              </div>
            </li>
            &nbsp;&nbsp;
            <li class="video">
              <div class="icon-wrapper" *ngIf="!members?.user?.is_streaming; else activeModal">
                <span>
                  <!-- <i size="14" data-feather="video"> </i> -->
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-video"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg>
                </span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="btns">
      <div class="btn btn-primary mt-2 bottom capitalize" (click)="addNew(addModal)">
        + {{ "HEADER.ADDUSER" | translate  }}
      </div>
    </div>
  </div>
</div>

<ng-template #activeModal>
    <span class="icon-color">
      <!-- <i size="14" data-feather="video"> </i> -->
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-video"><polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect></svg>
    </span>
</ng-template>

<ng-template #addModal let-modal>
  <div class="modal-header">
    <h5 class="modal-title modal-primary" id="myModalLabel160">
      {{ "HEADER.ADDNEWMEMBER" | translate }}
    </h5>
    <button type="button" class="close" (click)="cancel()" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body" tabindex="0">
    <div class="row">
      <div class="col-12">
        <div class="form-group row">
          <div class="col-sm-3 col-form-label">
            <label>{{ "HEADER.GROUPNAME" | translate }}</label>
          </div>
          <div class="col-sm-7">
            <input
              disabled
              [(ngModel)]="selectedChat.name"
              maxlength="30"
              type="text"
              class="form-control"
            />
          </div>
        </div>
      </div>

      <div class="col-12">
        <div class="form-group row">
          <div class="col-sm-3 col-form-label">
            <label>{{ "HEADER.MEMBER" | translate }}</label>
          </div>
          <div class="col-sm-7">
            <fieldset class="form-group">
              <ng-select
                class="dropdownClass"
                [multiple]="true"
                [items]="multiEndUsers"
                [(ngModel)]="selectedMembers"
                [clearable]="false"
                bindLabel="userNameAndEmail"
                bindValue="name"
                placeholder="{{ 'HEADER.SELECTUSERS' | translate }}"
              ></ng-select>
            </fieldset>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary" (click)="submit()" rippleEffect>
      {{ "HEADER.ADD" | translate }}
    </button>
    <button
      type="button"
      class="btn btn-secondary"
      (click)="cancel()"
      rippleEffect
    >
      {{ "HEADER.CANCEL" | translate }}
    </button>
  </div>
</ng-template>
<!--/ Admin user profile area -->
